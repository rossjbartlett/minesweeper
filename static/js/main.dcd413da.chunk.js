(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,function(e,t,n){e.exports=n(11)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(3),c=n.n(i),o=(n(9),n(1)),u=(n(10),["blue","green","red","purple","magenta","black"]),s={easy:{name:"Easy",size:[8,10],numBombs:10,width:"35vw",fontSize:["2.9vw","7vw"]},medium:{name:"Medium",size:[14,18],numBombs:40,width:"50vw",fontSize:["2.3vw","4vw"]},hard:{name:"Hard",size:[20,24],numBombs:99,width:"50vw",fontSize:["1.7vw","3vw"]}};function l(e,t,n){return[[t-1,n-1],[t-1,n],[t-1,n+1],[t,n-1],[t,n+1],[t+1,n-1],[t+1,n],[t+1,n+1]].filter((function(t){return e[t[0]]&&e[t[0]][t[1]]}))}function f(e){var t=e.currentDifficulty,n=e.setDifficulty,r=e.reset,i=e.time,c=e.lost,o=e.won,u=e.numFlags,l={color:c?"red":o?"limegreen":"inherit"};return a.a.createElement("div",{id:"header"},a.a.createElement("select",{id:"difficulty",name:"difficulty",onChange:function(e){return n(s[e.target.value])}},Object.keys(s).map((function(e){return a.a.createElement("option",{value:e,key:e},s[e].name)}))),a.a.createElement("div",null,a.a.createElement("span",{id:"numFlagsIcon"},"\ud83d\udea9"),t.numBombs-u),a.a.createElement("div",{style:l},a.a.createElement("span",{id:"timeIcon"},"\u23f1"),i),a.a.createElement("div",{id:"resetBtn",onClick:r},"\u21ba"))}function m(e){var t=e.colorClass,n=e.numAdjBombs,r=e.square,i=e.uncover,c=e.setFlagged,o=e.lost,s=r.isBomb,l=r.isUncovered,f=r.isFlagged,m="";o&&s?m="\ud83d\udca3":f?m="\ud83d\udea9":l&&(m=s?"\ud83d\udca3":n>0?n:"");var d={color:u[n]};return a.a.createElement("div",{className:"square ".concat(t," ").concat(l?"uncovered":""),onClick:function(e){f||i()},onContextMenu:function(e){e.preventDefault(),l||c(!f)},style:d},a.a.createElement("div",{className:"content"},m))}function d(e){var t=e.grid,n=e.updateGrid,r=e.lost,i=e.won,c=e.gameStarted,o=e.setGameStarted,u=e.setWon,s=e.setLost,f=e.currentDifficulty,d=e.isMobile,v={gridTemplateColumns:"repeat(".concat(t[0].length,", 1fr)"),pointerEvents:r||i?"none":"",width:d?"100vw":f.width,fontSize:f.fontSize[d?1:0],lineHeight:d?"1.5em":"1.2em"},b=["c0","c1"];function g(e,n){return l(t,e,n).map((function(e){return t[e[0]][e[1]]})).filter((function(e){return e.isBomb})).length}function w(e,r){c||(o(!0),function(e,t,n,r){for(var a=t.size,i=t.numBombs,c=[],o=0;o<a[0];o++)for(var u=0;u<a[1];u++)o===n&&u===r||c.push([o,u]);for(var s=0;s<i;){var l=Math.floor(Math.random()*c.length),f=c.splice(l,1)[0];e[f[0]][f[1]]={isBomb:!0},s++}}(t,f,e,r)),t[e][r].isBomb?s(!0):(!function e(n,r){t[n][r].isFlagged||t[n][r].isUncovered||(t[n][r].isUncovered=!0,t[n][r].isBomb||g(n,r)>0||l(t,n,r).forEach((function(t){e(t[0],t[1])})))}(e,r),n(t),t.flat().filter((function(e){return!e.isBomb})).every((function(e){return e.isUncovered}))&&u(!0))}return a.a.createElement("div",{id:"grid",style:v},t.map((function(e,i){return e.map((function(e,c){return a.a.createElement(m,{square:e,key:""+i+c,colorClass:b[(i+c)%2],numAdjBombs:g(i,c),uncover:function(){return w(i,c)},setFlagged:function(e){return function(e,r,a){t[e][r].isFlagged=a,n(t)}(i,c,e)},lost:r})}))})))}var v=function(){var e=Object(r.useState)(s.easy),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)([[]]),u=Object(o.a)(c,2),l=u[0],m=u[1],v=Object(r.useState)(0),b=Object(o.a)(v,2),g=b[0],w=b[1],p=Object(r.useState)(!1),E=Object(o.a)(p,2),h=E[0],y=E[1],O=Object(r.useState)(!1),j=Object(o.a)(O,2),S=j[0],B=j[1],z=Object(r.useState)(!1),F=Object(o.a)(z,2),k=F[0],M=F[1],C=Object(r.useState)(),D=Object(o.a)(C,2),I=D[0],N=D[1],A=Object(r.useState)(window.innerWidth<=700),U=Object(o.a)(A,2),W=U[0],G=U[1];function J(){var e;(!l[0].length||S||k||l.flat().every((function(e){return!e.isUncovered}))||window.confirm("Are you sure you want to reset the game?"))&&(m((e=n.size,new Array(e[0]).fill().map((function(){return new Array(e[1]).fill({})})))),w(0),clearInterval(I),y(!1),B(!1),M(!1))}Object(r.useEffect)((function(){window.addEventListener("resize",(function(){return G(window.innerWidth<=700)}))}),[]),Object(r.useEffect)(J,[n]),Object(r.useEffect)((function(){h&&N(setInterval((function(){w((function(e){return e+1}))}),1e3))}),[h]),Object(r.useEffect)((function(){(S||k)&&clearInterval(I)}),[S,k,I]);var L=l.flat().filter((function(e){return e.isFlagged})).length;return a.a.createElement("div",{id:"app",className:k?"won":S?"lost":""},a.a.createElement("div",{id:"game"},a.a.createElement(f,{currentDifficulty:n,setDifficulty:i,reset:J,time:g,lost:S,won:k,numFlags:L}),a.a.createElement(d,{grid:JSON.parse(JSON.stringify(l)),updateGrid:m,lost:S,won:k,gameStarted:h,setGameStarted:y,setLost:B,setWon:M,currentDifficulty:n,isMobile:W})),a.a.createElement("div",{id:"gameOverMsg",className:k||S?"show":""},k?"You Win!":S?"You Lose":""))};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(v,null)),document.getElementById("root"))}],[[4,1,2]]]);
//# sourceMappingURL=main.dcd413da.chunk.js.map